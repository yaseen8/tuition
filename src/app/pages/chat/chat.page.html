<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>
      <ion-text>{{userDetail.name}}</ion-text>
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content color='light'>

  <ion-grid padding >

    <ng-container *ngIf = "showData">
      <ion-row margin-bottom  *ngFor = "let chat of chatList">
        <ion-col >
          <div class="message" [ngClass] = "{' message-employee' : chat.user.user_type === 'teacher', ' message-guard' : chat.user.user_type === 'student'}">
            <p class="mt-0 mb-0">{{chat.body}}</p>
            <p slot= "end" class="mb-0 font-weight-light">{{chat.timestamp | date : 'short'}}</p>
          </div>
        </ion-col>
      </ion-row>
    </ng-container>


    <ion-row *ngIf = "!showData">
      <p>No Chat Yet</p>
    </ion-row>

  </ion-grid>

</ion-content>

<ion-footer>
  <ion-grid>
    <ion-row>
      <ion-col size="11">
        <ion-input type="text" [(ngModel)] = "messageBody"></ion-input>
      </ion-col>
      <ion-col size="1">
        <ion-icon name="send" style="font-size: 30px" [attr.disabled] = "!messageBody" (click) ="addMessage()"></ion-icon>
      </ion-col>
    </ion-row>
  </ion-grid>

</ion-footer>
